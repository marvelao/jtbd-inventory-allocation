【JTBD库存分配APP需求规范】
1. 用户角色：库存计划员/生产管理人员
2. 触发场景：
   - 需为A、B两款机型制定生产计划时，面临共用物料（编码重复）的库存竞争问题；
   - 需根据业务优先级分配有限库存，确保核心机型生产需求优先满足；
   - 需量化评估库存分配后各机型的生产需求满足程度，辅助决策调整。
3. 核心待办任务（Job）：
   库存计划员需要在存在A/B两款机型、部分物料编码重复的场景下，通过指定各机型制造数量和库存分配优先级，完成精准的库存分配，并计算各机型的库存满足率，从而保障生产计划的合理性和可执行性。
4. 任务细分（核心功能诉求）：
   (1) 基础配置层：支持录入/维护A、B两款机型的基础信息，识别并标记重复的物料编码；
   (2) 参数设置层：可分别为A、B机型独立设置“计划制造数量”，并为两款机型指定“库存分配优先级”（如A优先、B优先、同等优先级）；
   (3) 库存分配层：基于设置的制造数量、优先级，以及现有库存数据，对重复物料编码的库存进行自动分配（优先满足高优先级机型）；
   (4) 结果计算层：分配完成后，自动计算机型的“库存满足率”（满足率=实际分配到的物料数量/计划制造所需物料数量×100%）；
   (5) 结果展示层：清晰呈现各机型的物料分配明细、优先级、制造数量、满足率等核心数据。
5. 约束条件：
   - 需兼容A、B机型中“部分物料编码重复”的现状，分配逻辑需区分共用物料和专属物料；
   - 优先级设置需支持灵活调整，分配逻辑需严格遵循优先级规则；
   - 满足率计算需精准对应各机型的计划制造数量，数据可追溯。
6. 成功标准（Job Done的衡量）：
   - 库存分配结果符合预设的优先级规则，无分配逻辑错误；
   - 重复物料编码的库存被合理分配，无超量/漏分配情况；
   - 各机型的满足率计算准确，可直接用于生产计划决策；
   - 操作流程简洁，库存分配结果可快速生成并可视化展示。
7.数据表：
物料库存表(XZB_InvNum)：
列名	  数据类型	   备注
MATNR	  nvarchar(500)	  Component_ItemNumber
CLABS	  float	                 库存数量

机型BOM表(XZB_Forcast_BOM)：
列名					数据类型	备注
Parent_ItemNumber			nvarchar(500)	父项编码
Component_ItemNumber		nvarchar(500)	子项编码
[Component_ItemNumber Description]	nvarchar(500)	子项描述
[Component_ItemNumber Num]		float		子项数量

8、数据库连接：connection_string = 'mssql+pyodbc://dw:dw@172.16.31.42:1433/BI_TEMP?driver=ODBC+Driver+17+for+SQL+Server'

9、编程语言：Python，tkinter




